{"ast":null,"code":"import _objectSpread from \"/Users/bool/Desktop/_projects/_udacity_nanodegree/reactnd-contacts-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar api = process.env.REACT_APP_CONTACTS_API_URL || \"http://localhost:5001\";\nvar token = localStorage.token;\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\nvar headers = {\n  Accept: \"application/json\",\n  Authorization: token\n};\nexport var getAll = function getAll() {\n  return fetch(\"\".concat(api, \"/contacts\"), {\n    headers: headers\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.contacts;\n  });\n};\nexport var remove = function remove(contact) {\n  return fetch(\"\".concat(api, \"/contacts/\").concat(contact.id), {\n    method: \"DELETE\",\n    headers: headers\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.contact;\n  });\n};\nexport var create = function create(body) {\n  return fetch(\"\".concat(api, \"/contacts\"), {\n    method: \"POST\",\n    headers: _objectSpread({}, headers, {\n      \"Content-Type\": \"application/json\"\n    }),\n    body: JSON.stringify(body)\n  }).then(function (res) {\n    return res.json();\n  });\n};","map":{"version":3,"sources":["/Users/bool/Desktop/_projects/_udacity_nanodegree/reactnd-contacts-app/src/utils/ContactsAPI.js"],"names":["api","process","env","REACT_APP_CONTACTS_API_URL","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","then","res","json","data","contacts","remove","contact","id","method","create","body","JSON","stringify"],"mappings":";AAAA,IAAMA,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,0BAAZ,IAA0C,uBAAtD;AAEA,IAAIC,KAAK,GAAGC,YAAY,CAACD,KAAzB;AAEA,IAAI,CAACA,KAAL,EACEA,KAAK,GAAGC,YAAY,CAACD,KAAb,GAAqBE,IAAI,CAACC,MAAL,GAC1BC,QAD0B,CACjB,EADiB,EAE1BC,MAF0B,CAEnB,CAAC,CAFkB,CAA7B;AAIF,IAAMC,OAAO,GAAG;AACdC,EAAAA,MAAM,EAAE,kBADM;AAEdC,EAAAA,aAAa,EAAER;AAFD,CAAhB;AAKA,OAAO,IAAMS,MAAM,GAAG,SAATA,MAAS;AAAA,SACpBC,KAAK,WAAId,GAAJ,gBAAoB;AAAEU,IAAAA,OAAO,EAAPA;AAAF,GAApB,CAAL,CACGK,IADH,CACQ,UAACC,GAAD;AAAA,WAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,GADR,EAEGF,IAFH,CAEQ,UAACG,IAAD;AAAA,WAAUA,IAAI,CAACC,QAAf;AAAA,GAFR,CADoB;AAAA,CAAf;AAKP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,OAAD;AAAA,SACpBP,KAAK,WAAId,GAAJ,uBAAoBqB,OAAO,CAACC,EAA5B,GAAkC;AAAEC,IAAAA,MAAM,EAAE,QAAV;AAAoBb,IAAAA,OAAO,EAAPA;AAApB,GAAlC,CAAL,CACGK,IADH,CACQ,UAACC,GAAD;AAAA,WAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,GADR,EAEGF,IAFH,CAEQ,UAACG,IAAD;AAAA,WAAUA,IAAI,CAACG,OAAf;AAAA,GAFR,CADoB;AAAA,CAAf;AAKP,OAAO,IAAMG,MAAM,GAAG,SAATA,MAAS,CAACC,IAAD;AAAA,SACpBX,KAAK,WAAId,GAAJ,gBAAoB;AACvBuB,IAAAA,MAAM,EAAE,MADe;AAEvBb,IAAAA,OAAO,oBACFA,OADE;AAEL,sBAAgB;AAFX,MAFgB;AAMvBe,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeF,IAAf;AANiB,GAApB,CAAL,CAOGV,IAPH,CAOQ,UAACC,GAAD;AAAA,WAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,GAPR,CADoB;AAAA,CAAf","sourcesContent":["const api = process.env.REACT_APP_CONTACTS_API_URL || \"http://localhost:5001\";\n\nlet token = localStorage.token;\n\nif (!token)\n  token = localStorage.token = Math.random()\n    .toString(36)\n    .substr(-8);\n\nconst headers = {\n  Accept: \"application/json\",\n  Authorization: token,\n};\n\nexport const getAll = () =>\n  fetch(`${api}/contacts`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.contacts);\n\nexport const remove = (contact) =>\n  fetch(`${api}/contacts/${contact.id}`, { method: \"DELETE\", headers })\n    .then((res) => res.json())\n    .then((data) => data.contact);\n\nexport const create = (body) =>\n  fetch(`${api}/contacts`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  }).then((res) => res.json());\n"]},"metadata":{},"sourceType":"module"}